"use strict";(self.webpackChunkamazon=self.webpackChunkamazon||[]).push([[697],{9697:($,m,a)=>{a.r(m),a.d(m,{ServiciosModule:()=>N});var u=a(6019),l=a(8427),h=a(7801),n=a(7537);class v{}var T=a(1659),g=a.n(T),e=a(3556),c=a(4522),q=a(1059);let Z=(()=>{class t{constructor(i,o){this.http=i,this.seguridadService=o,this.url="https://apiloopbackgrupo27equipo6.herokuapp.com/",this.token="",this.token=this.seguridadService.getToken()}store(i){return this.http.post(`${this.url}/servicios`,{fecha:i.fecha,hora:i.hora,valor:i.valor,origen:i.origen,destino:i.destino,encomienda:i.encomienda},{headers:new c.WM({Authorization:`Bearer ${this.token}`})})}getAll(){return this.http.get(`${this.url}/servicios`,{headers:new c.WM({Authorization:`Bearer ${this.token}`})})}update(i){return this.http.patch(`${this.url}/servicios/${i.id}`,{fecha:i.fecha,hora:i.hora,valor:i.valor,origen:i.origen,destino:i.destino,encomienda:i.encomienda},{headers:new c.WM({Authorization:`Bearer ${this.token}`})})}delete(i){return this.http.delete(`${this.url}/servicios/${i}`,{headers:new c.WM({Authorization:`Bearer ${this.token}`})})}getWithId(i){return this.http.get(`${this.url}/servicios/${i}`,{headers:new c.WM({Authorization:`Bearer ${this.token}`})})}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(c.eN),e.LFG(q.F))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=a(7596),A=a(280);function b(t,r){if(1&t&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&t){const i=r.$implicit;e.hYB("value","",i.nombre," ",i.apellidos,""),e.xp6(1),e.AsE("",i.nombre," ",i.apellidos,"")}}function C(t,r){if(1&t&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&t){const i=r.$implicit;e.hYB("value","",i.nombre," ",i.apellidos,""),e.xp6(1),e.AsE("",i.nombre," ",i.apellidos,"")}}function _(t,r){if(1&t&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&t){const i=r.$implicit;e.hYB("value","",i.descripcion," - ",i.tipo,""),e.xp6(1),e.AsE("",i.descripcion," - ",i.tipo,"")}}function S(t,r){if(1&t&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&t){const i=r.$implicit;e.hYB("value","",i.nombre," ",i.apellidos,""),e.xp6(1),e.AsE("",i.nombre," ",i.apellidos,"")}}function E(t,r){if(1&t&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&t){const i=r.$implicit;e.hYB("value","",i.nombre," ",i.apellidos,""),e.xp6(1),e.AsE("",i.nombre," ",i.apellidos,"")}}function V(t,r){if(1&t&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&t){const i=r.$implicit;e.hYB("value","",i.descripcion," - ",i.tipo,""),e.xp6(1),e.AsE("",i.descripcion," - ",i.tipo,"")}}function F(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"a",4),e._uU(15,"Editar"),e.qZA(),e.TgZ(16,"button",5),e.NdJ("click",function(){const d=e.CHM(i).$implicit;return e.oxw().delete(d.id)}),e._uU(17,"Eliminar"),e.qZA(),e.qZA(),e.qZA()}if(2&t){const i=r.$implicit;e.xp6(2),e.Oqu(i.fecha),e.xp6(2),e.Oqu(i.hora),e.xp6(2),e.Oqu(i.valor),e.xp6(2),e.Oqu(i.origen),e.xp6(2),e.Oqu(i.destino),e.xp6(2),e.Oqu(i.encomienda),e.xp6(2),e.MGl("routerLink","/servicios/edit/",i.id,"")}}const Y=[{path:"create",component:(()=>{class t{constructor(i,o,s,d,p){this.fb=i,this.servicioService=o,this.encomiendaService=s,this.clienteService=d,this.router=p,this.listadoEncomiendas=[],this.listadoClientesO=[],this.fgValidacion=this.fb.group({fecha:["",[n.kI.required]],hora:["",[n.kI.required]],valor:["",[n.kI.required]],origen:["",[n.kI.required]],destino:["",[n.kI.required]],encomienda:["",[n.kI.required]]})}ngOnInit(){this.getAllEncomiendas(),this.getAllClientesOrigen()}store(){let i=new v;i.fecha=this.fgValidacion.controls.fecha.value,i.hora=this.fgValidacion.controls.hora.value,i.valor=this.fgValidacion.controls.valor.value,i.origen=this.fgValidacion.controls.origen.value,i.destino=this.fgValidacion.controls.destino.value,i.encomienda=this.fgValidacion.controls.encomienda.value,this.servicioService.store(i).subscribe(o=>{g().fire("Creado correctamente!","","success"),this.router.navigate(["/servicios/get"])},o=>{console.log(o),alert("Error en el envio")})}getAllEncomiendas(){this.encomiendaService.getAll().subscribe(i=>{this.listadoEncomiendas=i,console.log(i)})}getAllClientesOrigen(){this.clienteService.getAll().subscribe(i=>{this.listadoClientesO=i,console.log(i)})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(n.qu),e.Y36(Z),e.Y36(f.F),e.Y36(A.$),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-create"]],decls:41,vars:5,consts:[[1,"container"],[1,"center-align"],[1,"col","s12",3,"formGroup","ngSubmit"],[1,"row"],[1,"input-field","col","s6"],["formControlName","fecha","type","date",1,"validate"],["for","fecha"],["formControlName","hora","type","time",1,"validate"],["for","hora"],[1,"input-field","col","s12"],["formControlName","valor","type","number",1,"validate"],["for","valor"],["formControlName","origen",1,"browser-default","validate"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","destino",1,"browser-default","validate"],["formControlName","encomienda",1,"browser-default","validate"],[1,"row","center-align"],["type","submit","name","action",1,"btn","yellow","darken-4",3,"disabled"],[1,"material-icons","right"],[3,"value"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"h3",1),e._uU(2,"Registrar Servicio"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return o.store()}),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e._UZ(6,"input",5),e.TgZ(7,"label",6),e._uU(8,"Fecha"),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e._UZ(10,"input",7),e.TgZ(11,"label",8),e._uU(12,"Hora"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",3),e.TgZ(14,"div",9),e._UZ(15,"input",10),e.TgZ(16,"label",11),e._uU(17,"Valor $"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",3),e.TgZ(19,"div",9),e.TgZ(20,"select",12),e.TgZ(21,"option",13),e._uU(22,"Origen"),e.qZA(),e.YNc(23,b,2,4,"option",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",3),e.TgZ(25,"div",9),e.TgZ(26,"select",15),e.TgZ(27,"option",13),e._uU(28,"Destino"),e.qZA(),e.YNc(29,C,2,4,"option",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",3),e.TgZ(31,"div",9),e.TgZ(32,"select",16),e.TgZ(33,"option",13),e._uU(34,"Encomienda"),e.qZA(),e.YNc(35,_,2,4,"option",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",17),e.TgZ(37,"button",18),e._uU(38,"Enviar "),e.TgZ(39,"i",19),e._uU(40,"send"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(3),e.Q6J("formGroup",o.fgValidacion),e.xp6(20),e.Q6J("ngForOf",o.listadoClientesO),e.xp6(6),e.Q6J("ngForOf",o.listadoClientesO),e.xp6(6),e.Q6J("ngForOf",o.listadoEncomiendas),e.xp6(2),e.Q6J("disabled",!o.fgValidacion.valid))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.wV,n.EJ,n.YN,n.Kr,u.sg],styles:[""]}),t})(),canActivate:[h.I]},{path:"edit/:id",component:(()=>{class t{constructor(i,o,s,d,p,J){this.fb=i,this.servicioService=o,this.encomiendaService=s,this.clienteService=d,this.router=p,this.route=J,this.listadoEncomiendas=[],this.listadoClientesO=[],this.fgValidacion=this.fb.group({id:["",[n.kI.required]],fecha:["",[n.kI.required]],hora:["",[n.kI.required]],valor:["",[n.kI.required]],origen:["",[n.kI.required]],destino:["",[n.kI.required]],encomienda:["",[n.kI.required]]}),this.id=""}ngOnInit(){this.id=this.route.snapshot.params.id,this.buscarRegistro(this.id),this.getAllEncomiendas(),this.getAllClientesOrigen()}buscarRegistro(i){this.servicioService.getWithId(i).subscribe(o=>{console.log(o),this.fgValidacion.controls.id.setValue(i),this.fgValidacion.controls.fecha.setValue(o.fecha),this.fgValidacion.controls.hora.setValue(o.hora),this.fgValidacion.controls.valor.setValue(o.valor),this.fgValidacion.controls.origen.setValue(o.origen),this.fgValidacion.controls.destino.setValue(o.destino),this.fgValidacion.controls.encomienda.setValue(o.encomienda)})}edit(){let i=new v;i.id=this.fgValidacion.controls.id.value,i.fecha=this.fgValidacion.controls.fecha.value,i.hora=this.fgValidacion.controls.hora.value,i.valor=this.fgValidacion.controls.valor.value,i.origen=this.fgValidacion.controls.origen.value,i.destino=this.fgValidacion.controls.destino.value,i.encomienda=this.fgValidacion.controls.encomienda.value,this.servicioService.update(i).subscribe(o=>{g().fire("Editado Correctamente!","","success"),this.router.navigate(["/servicios/get"])},o=>{console.log(o),alert("Error en el envio")})}getAllEncomiendas(){this.encomiendaService.getAll().subscribe(i=>{this.listadoEncomiendas=i,console.log(i)})}getAllClientesOrigen(){this.clienteService.getAll().subscribe(i=>{this.listadoClientesO=i,console.log(i)})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(n.qu),e.Y36(Z),e.Y36(f.F),e.Y36(A.$),e.Y36(l.F0),e.Y36(l.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit"]],decls:42,vars:5,consts:[[1,"container"],[1,"center-align"],[1,"col","s12",3,"formGroup","ngSubmit"],["formControlName","id","type","hidden",1,"validate"],[1,"row"],[1,"input-field","col","s6"],["formControlName","fecha","type","date",1,"validate"],["for","fecha",1,"active"],["formControlName","hora","type","time",1,"validate"],["for","hora",1,"active"],[1,"input-field","col","s12"],["formControlName","valor","type","number",1,"validate"],["for","valor",1,"active"],["formControlName","origen",1,"browser-default","validate"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","destino",1,"browser-default","validate"],["formControlName","encomienda",1,"browser-default","validate"],[1,"row","center-align"],["type","submit","name","action",1,"btn","yellow","darken-4",3,"disabled"],[1,"material-icons","right"],[3,"value"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"h3",1),e._uU(2,"Editar Servicio"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return o.edit()}),e._UZ(4,"input",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e._UZ(7,"input",6),e.TgZ(8,"label",7),e._uU(9,"Fecha"),e.qZA(),e.qZA(),e.TgZ(10,"div",5),e._UZ(11,"input",8),e.TgZ(12,"label",9),e._uU(13,"Hora"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",4),e.TgZ(15,"div",10),e._UZ(16,"input",11),e.TgZ(17,"label",12),e._uU(18,"Valor"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",4),e.TgZ(20,"div",10),e.TgZ(21,"select",13),e.TgZ(22,"option",14),e._uU(23,"Origen"),e.qZA(),e.YNc(24,S,2,4,"option",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",4),e.TgZ(26,"div",10),e.TgZ(27,"select",16),e.TgZ(28,"option",14),e._uU(29,"Destino"),e.qZA(),e.YNc(30,E,2,4,"option",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",4),e.TgZ(32,"div",10),e.TgZ(33,"select",17),e.TgZ(34,"option",14),e._uU(35,"Encomienda"),e.qZA(),e.YNc(36,V,2,4,"option",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",18),e.TgZ(38,"button",19),e._uU(39,"Enviar "),e.TgZ(40,"i",20),e._uU(41,"send"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(3),e.Q6J("formGroup",o.fgValidacion),e.xp6(21),e.Q6J("ngForOf",o.listadoClientesO),e.xp6(6),e.Q6J("ngForOf",o.listadoClientesO),e.xp6(6),e.Q6J("ngForOf",o.listadoEncomiendas),e.xp6(2),e.Q6J("disabled",!o.fgValidacion.valid))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.wV,n.EJ,n.YN,n.Kr,u.sg],styles:[""]}),t})(),canActivate:[h.I]},{path:"get",component:(()=>{class t{constructor(i){this.servicioService=i,this.listado=[]}ngOnInit(){this.getAll()}getAll(){this.servicioService.getAll().subscribe(i=>{this.listado=i,console.log(i)})}delete(i){console.log(i),g().fire({title:"\xbfEsta seguro de eliminar este registro?",showCancelButton:!0,confirmButtonText:"Aceptar"}).then(o=>{o.isConfirmed&&this.servicioService.delete(i).subscribe(s=>{g().fire("\xa1Eliminado correctamente!","","success"),this.getAll()})})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(Z))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-get"]],decls:24,vars:1,consts:[[1,"container"],["routerLink","/servicios/create",1,"btn","blue-grey","darken-2"],[1,"table","responsive"],[4,"ngFor","ngForOf"],[1,"btn","yellow","darken-4",3,"routerLink"],[1,"btn","grey","darken-1",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"br"),e.TgZ(2,"a",1),e._uU(3,"Registrar Servicio"),e.qZA(),e.TgZ(4,"table",2),e.TgZ(5,"thead"),e.TgZ(6,"tr"),e.TgZ(7,"th"),e._uU(8,"Fecha"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Hora"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Valor"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Origen"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Destino"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Encomienda"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Acciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tbody"),e.YNc(22,F,18,7,"tr",3),e.qZA(),e.qZA(),e.qZA(),e._UZ(23,"br")),2&i&&(e.xp6(22),e.Q6J("ngForOf",o.listado))},directives:[l.yS,u.sg],styles:[""]}),t})(),canActivate:[h.I]},{path:"",redirectTo:"get"}];let k=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.Bz.forChild(Y)],l.Bz]}),t})(),N=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez,k,n.u5,n.UX]]}),t})()}}]);